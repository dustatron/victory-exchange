{"ast":null,"code":"var _jsxFileName = \"/Users/dusty/Dropbox/Code/React/victory-exchange/auth-test/src/components/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Container, Card, Row, Col } from 'react-bootstrap';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'; //Routes\n\nimport SignedIn from './SignedIn'; //Firebase\n\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport firebase from 'firebase';\n\nfunction onAuthStateChange(callback) {\n  return firebase.auth().onAuthStateChanged(user => {\n    if (user) {\n      callback({\n        loggedIn: true\n      });\n      console.log('The user is logged in');\n    } else {\n      callback({\n        loggedIn: false\n      });\n      console.log('The user is not logged in');\n    }\n  });\n}\n\nfunction App(props) {\n  const [user, setUser] = useState({\n    loggedIn: false\n  }); // Configure FirebaseUI.\n\n  const uiConfig = {\n    // Popup signin flow rather than redirect flow.\n    // signInFlow: 'popup',\n    // Redirect to /signedIn after sign in is successful. Alternatively you can provide a callbacks.signInSuccess function.\n    signInSuccessUrl: '/signedIn',\n    // We will display Google and Facebook as auth providers.\n    signInOptions: [firebase.auth.GoogleAuthProvider.PROVIDER_ID, {\n      provider: firebase.auth.EmailAuthProvider.PROVIDER_ID,\n      requireDisplayName: true\n    }] // callbacks: {\n    //   // Avoid redirects after sign-in.\n    //   signInSuccessWithAuthResult: setSignedInState(true)\n    // }\n\n  };\n  useEffect(() => {\n    const unsubscribe = onAuthStateChange(setUser);\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  if (!user.loggedIn) {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 12\n      }\n    }, \"User is logged out\");\n  } else {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 12\n      }\n    }, \"User is logged in\");\n  } // return (\n  //   <Router>\n  //     <Switch>\n  //       <Route path=\"/signedIn\">\n  //         <SignedIn />\n  //       </Route>\n  //       <Route path=\"/\">\n  //         <Container>\n  //           <Row>\n  //             <Col md={{ span: 6, offset: 3 }}>\n  //               <Card>\n  //                 <Card.Header>\n  //                   <h1 className=\"text-center\">My App</h1>\n  //                   <p className=\"text-center\">Please sign-in:</p>\n  //                 </Card.Header>\n  //                 <Card.Body>\n  //                   <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\n  //                 </Card.Body>\n  //               </Card>\n  //             </Col>\n  //           </Row>\n  //         </Container>\n  //       </Route>\n  //     </Switch>\n  //   </Router>\n  // );\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/dusty/Dropbox/Code/React/victory-exchange/auth-test/src/components/App.js"],"names":["React","useState","useEffect","Container","Card","Row","Col","BrowserRouter","Router","Switch","Route","SignedIn","StyledFirebaseAuth","firebase","onAuthStateChange","callback","auth","onAuthStateChanged","user","loggedIn","console","log","App","props","setUser","uiConfig","signInSuccessUrl","signInOptions","GoogleAuthProvider","PROVIDER_ID","provider","EmailAuthProvider","requireDisplayName","unsubscribe"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,EAAoBC,IAApB,EAA0BC,GAA1B,EAA+BC,GAA/B,QAA0C,iBAA1C;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,MAAlC,EAA0CC,KAA1C,QAAuD,kBAAvD,C,CAEA;;AACA,OAAOC,QAAP,MAAqB,YAArB,C,CAEA;;AACA,OAAOC,kBAAP,MAA+B,qCAA/B;AACA,OAAOC,QAAP,MAAqB,UAArB;;AAEA,SAASC,iBAAT,CAA2BC,QAA3B,EAAqC;AACnC,SAAOF,QAAQ,CAACG,IAAT,GAAgBC,kBAAhB,CAAoCC,IAAD,IAAU;AAClD,QAAIA,IAAJ,EAAU;AACRH,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,QAAQ,EAAE;AAAZ,OAAD,CAAR;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACD,KAHD,MAGO;AACLN,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,QAAQ,EAAE;AAAZ,OAAD,CAAR;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACD;AACF,GARM,CAAP;AASD;;AAED,SAASC,GAAT,CAAaC,KAAb,EAAoB;AAClB,QAAM,CAAEL,IAAF,EAAQM,OAAR,IAAoBvB,QAAQ,CAAC;AAAEkB,IAAAA,QAAQ,EAAE;AAAZ,GAAD,CAAlC,CADkB,CAGlB;;AACA,QAAMM,QAAQ,GAAG;AACf;AACA;AACA;AACAC,IAAAA,gBAAgB,EAAE,WAJH;AAKf;AACAC,IAAAA,aAAa,EAAE,CACbd,QAAQ,CAACG,IAAT,CAAcY,kBAAd,CAAiCC,WADpB,EAEb;AAAEC,MAAAA,QAAQ,EAAEjB,QAAQ,CAACG,IAAT,CAAce,iBAAd,CAAgCF,WAA5C;AAAyDG,MAAAA,kBAAkB,EAAE;AAA7E,KAFa,CANA,CAUf;AACA;AACA;AACA;;AAbe,GAAjB;AAgBA9B,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM+B,WAAW,GAAGnB,iBAAiB,CAACU,OAAD,CAArC;AACA,WAAO,MAAM;AACXS,MAAAA,WAAW;AACZ,KAFD;AAGD,GALQ,EAKN,EALM,CAAT;;AAOA,MAAI,CAACf,IAAI,CAACC,QAAV,EAAoB;AAClB,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAP;AACD,GAFD,MAEO;AACL,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAP;AACD,GA/BiB,CAiClB;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACD;;AAED,eAAeG,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Card, Row, Col } from 'react-bootstrap';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\n//Routes\nimport SignedIn from './SignedIn';\n\n//Firebase\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport firebase from 'firebase';\n\nfunction onAuthStateChange(callback) {\n  return firebase.auth().onAuthStateChanged((user) => {\n    if (user) {\n      callback({ loggedIn: true });\n      console.log('The user is logged in');\n    } else {\n      callback({ loggedIn: false });\n      console.log('The user is not logged in');\n    }\n  });\n}\n\nfunction App(props) {\n  const [ user, setUser ] = useState({ loggedIn: false });\n\n  // Configure FirebaseUI.\n  const uiConfig = {\n    // Popup signin flow rather than redirect flow.\n    // signInFlow: 'popup',\n    // Redirect to /signedIn after sign in is successful. Alternatively you can provide a callbacks.signInSuccess function.\n    signInSuccessUrl: '/signedIn',\n    // We will display Google and Facebook as auth providers.\n    signInOptions: [\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n      { provider: firebase.auth.EmailAuthProvider.PROVIDER_ID, requireDisplayName: true }\n    ]\n    // callbacks: {\n    //   // Avoid redirects after sign-in.\n    //   signInSuccessWithAuthResult: setSignedInState(true)\n    // }\n  };\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChange(setUser);\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  if (!user.loggedIn) {\n    return <span>User is logged out</span>;\n  } else {\n    return <span>User is logged in</span>;\n  }\n\n  // return (\n  //   <Router>\n  //     <Switch>\n  //       <Route path=\"/signedIn\">\n  //         <SignedIn />\n  //       </Route>\n\n  //       <Route path=\"/\">\n  //         <Container>\n  //           <Row>\n  //             <Col md={{ span: 6, offset: 3 }}>\n  //               <Card>\n  //                 <Card.Header>\n  //                   <h1 className=\"text-center\">My App</h1>\n  //                   <p className=\"text-center\">Please sign-in:</p>\n  //                 </Card.Header>\n  //                 <Card.Body>\n  //                   <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\n  //                 </Card.Body>\n  //               </Card>\n  //             </Col>\n  //           </Row>\n  //         </Container>\n  //       </Route>\n  //     </Switch>\n  //   </Router>\n  // );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}